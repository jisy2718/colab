





[toc]







# 1. 참가격



## [1] 월(month)데이터 (10년)

### (1) raw data

+ 파일개수 11개(11년치)
  + 1개의 파일에 12개월치 정보가 담김
+ 컬럼개수
  + 22개
    + 번호, 상품명, 대분류명, 중분류명, 소분류명, 제조사명, 총용량, 총용량명, 단위용량, 단위용량명, 20xx-01, 20xx-02, ..., 20xx-12
+ 로우개수
  + 파일 별로 4xx ~ 5xx 개

| 번호 | 상품명                      | 대분류명 | 중분류명   | 소분류명 | 제조사명 | 총용량 | 총용량명 | 단위용량 | 단위용량명 | 2012-01   | 2012-02   | 2012-03   | 2012-04   | 2012-05   | 2012-06   | 2012-07   | 2012-08   | 2012-09   | 2012-10,  |
| ---- | --------------------------- | -------- | ---------- | -------- | -------- | ------ | -------- | -------- | ---------- | --------- | --------- | --------- | --------- | --------- | --------- | --------- | --------- | --------- | --------- |
| 1    | 샘표소면(1.1kg)             | 가공식품 | 곡물가공품 | 국수     | 샘표     | 1100   | g        | 100      | g          | 3328/302  | 3406/310  | 3482/316  | 3168/288  | 3478/316  | 3475/316  | 3450/314  | 2538/231  | 3456/314  | 3488/317  |
| 2    | 샘표소면(650g)              | 가공식품 | 곡물가공품 | 국수     | 샘표     | 650    | g        | 100      | g          | 1715/264  | 1713/264  | 1703/263  | 1678/259  | 1667/257  | 1666/257  | -         | -         | -         | -         |
| ...  |                             |          |            |          |          |        |          |          |            |           |           |           |           |           |           |           |           |           |           |
| 503  | 쇠고기 불고기(1+등급, 100g) | 신선식품 | 축산물     | 쇠고기   | 불고기   | 100    | g        | 100      | g          | 3405/3405 | 3453/3453 | 3534/3534 | 3199/3199 | 3618/3618 | 3778/3778 | 3643/3643 | 3467/3467 | 3688/3688 | 3586/3586 |
| 504  | 쇠고기 불고기(1등급, 100g)  | 신선식품 | 축산물     | 쇠고기   | 불고기   | 100    | g        | 100      | g          | 3263/3263 | 3125/3125 | 3089/3089 | 3087/3087 | 3321/3321 | 3415/3415 | 2973/2973 | 3141/3141 | 3347/3347 | 3381/3381 |





### (2) 전처리 결과 (DB에 넣어줄 데이터)







### (3) 전처리

#### (a) 전반적인 고려사항

1. 10년치 데이터의 가격추세선을 보여주어야 함

2. null값 대체
   + 특정기간 전체가 null 값인 row들
     + 예 : 2012 ~ 2016전체가 null 인 것들..
   + 중간중간 몇몇개 null이 있는 row들
     + 가장 가까운 앞의 not null 값을 대체값으로 이용
       + 가장 가까운 앞&뒤의 평균이나 / 가장 가까운 앞or뒤 값도 고려하였으나, 우선 위의 방식으로 진행
   + 시작데이터(2012년 01월)부터 null인 row들
     + 가장 앞의 not null 값을 대체값으로 이용
   + 가장 최근 3년값이 null인 row들
     + 

3. 단위용량 일치시키기
   + 소분류별 단위용량의 평균이 필요한데, 단위용량이 2개씩 있는 다른 항목들이 존재함



#### (b) 특이사항

**소분류** 

1. 세탁세제 & 세탁세제(액체류) & 세탁세제(가루형)

   + 세탁세제의 경우 2018년부터 세탁세제(가루형), 세탁세제(액체형)으로 분리되고, 상품명 바뀜
     + 2012 ~ 2017
       + `퍼실 액체세제 드럼용 2.7L`, `퍼실 액체세제 일반용 2.7L `
     + 2018 ~
       +  `퍼실 파워젤 액체 드럼용(2.7L)`, `퍼실 파워젤 액체 일반용(2.7L)`

   + 결론

     + 세탁세제(가루형), 세탁세제(액체형) 만 이용하기로 결정

     + `때가 쏙 비트(액체,드럼용,3L)` , `테크 UP(액체,일반용,3L)` 경우 2018년 데이터부터 이용

       

2. 섬유유연제

   + 2022년부터 기준상품이 바뀐듯
     + 2022
       + `다우니 고농축 섬유유연제 엑스퍼트(2L)` , `샤프란 아우라 초고농축 섬유유연제 홀리데이판타지(2.3L)`, `피죤 섬유유연제 핑크로즈(2.1L)`
       + 다우니, 샤프란, 피죤의 2022년 이전 데이터와 2022년 데이터부터의 단위용량당 가격 차이가 심함
     
   + 결론
     + 









## [2] 주(week)데이터 (1년)











# 2. 농산물데이터

## [1] 월(month)데이터 (10년)

### (1) raw data

+ api 요청을 통해 받은 raw 데이터

```python
# 도매가격만 오는 경우도 있고, 소매가격만 오는 경우도 있고, 둘다 오는 경우도 있음
# 도매나 소매 가격 1개만 오면, 'price'의 value가 List[dict]가 아닌 dict로 옴
{'condition': [{'p_cert_id': '2775',
                'p_cert_key': 'fca8d024-c5e4-4f48-bdb0-51a1a41bde9b',
                'p_countycode': [],
                'p_graderank': '1',
                'p_itemcategorycode': '200',
                'p_itemcode': '253',
                'p_kindcode': '00',
                'p_period': '10',
                'p_returntype': 'json',
                'p_yyyy': '2022'}],
 'error_code': '000',
 'price': [{'caption': '도매가격 > 채소류 > 깻잎 > 깻잎 > 상품 > 2kg',
           'item': [{'m1': '27,590',
                      'm10': '20,143',
                      'm11': '16,736',
                      'm12': '23,347',
                      'm2': '22,562',
                      'm3': '20,695',
                      'm4': '16,420',
                      'm5': '16,990',
                      'm6': '11,230',
                      'm7': '12,791',
                      'm8': '18,882',
                      'm9': '28,470',
                      'yearavg': '19,562',
                      'yyyy': '2012'},
		                     ... ],
							'productclscode': '02'},

						{'caption': '소매가격 > 채소류 > 깻잎 > 깻잎 > 상품 > 100g',
            'item': [{'m1': '2,352',
                      'm10': '1,824',
                      'm11': '1,666',
                      'm12': '1,875',
                      'm2': '2,108',
                      'm3': '1,995',
                      'm4': '1,763',
                      'm5': '1,624',
                      'm6': '1,349',
                      'm7': '1,158',
                      'm8': '1,426',
                      'm9': '2,053',
                      'yearavg': '1,759',
                      'yyyy': '2012'},
                     {'m1': '2,304',
                      'm10': '1,508',
                      'm11': '1,478',
                      'm12': '1,572',
                      'm2': '2,106',
                      'm3': '1,726',
                      'm4': '1,532',
                      'm5': '1,535',
                      'm6': '1,398',
                      'm7': '1,479',
                      'm8': '1,691',
                      'm9': '1,681',
                      'yearavg': '1,666',
                      'yyyy': '2013'},
                     ..., '2022'년 데이터까지 옴 ],
						'productclscode': '01'}]}
```



### (2) 전처리 후 품목 table

![image-20220913225043259](assets/image-20220913225043259.png)